"use strict";function getAnchorTexts(html,selector){var div;return div=document.createElement("div"),div.innerHTML=html,div.querySelector(selector)}angular.module("BookingApp.filters",[]),angular.module("BookingApp.services",[]),angular.module("BookingApp.constant",[]),angular.module("BookingApp.directives",[]);var BookingApp=angular.module("BookingApp",["BookingApp.controllers","BookingApp.directives","BookingApp.services","BookingApp.constant","BookingApp.filters","BookingApp.swipe","ngAnimate","ngRoute","angucomplete","ui.select","pickadate","ismobile"]),mobileapp=!1;BookingApp.factory("errorInterceptor",["$q","$rootScope","$location","Loadbar",function($q,$rootScope,$location,Loadbar){return{request:function(config){return mobileapp=!!window.MOBILE_APP,/\?/g.test(config.url)?"&"===config.url[config.url.length-1]?config.url=config.url+"mobileApp="+mobileapp:config.url=config.url+"&mobileApp="+mobileapp:config.url=config.url+"?mobileApp="+mobileapp,config},responseError:function(response){if(Loadbar.hide(),-1==response.status)return $location.path("/internet-disconnected");if(451==response.status)return $location.path("/disabled");if("data"in response&&response.data&&!response.data.error){var r1=response.data.replace(/^\s+|\ s+$/gm,"");r1&&r1.replace(/\n/g,"")&&r1.replace(/\n/g,"").match(/<body.+<\/body>/g)&&($rootScope.errorHTML=getAnchorTexts(r1.replace(/\n/g,"").match(/<body.+<\/body>/g),".sorry").innerHTML,$rootScope.$broadcast("rmServices"),$rootScope.$broadcast("resetCollection"),$rootScope.$broadcast("reset","tempOrgAndNetwork",{orgid:!1}))}else console.warn("not data in response: ",response)}}}]),BookingApp.config(["$routeProvider","CONFIG_ROUTE","DEFAULT_ROUTE","$httpProvider","$sceDelegateProvider",function($routeProvider,CONFIG_ROUTE,DEFAULT_ROUTE,$httpProvider,$sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","**"]),angular.forEach(CONFIG_ROUTE,function(pageConf,url){$routeProvider.when(url,pageConf).when(url+"/:serviceCollection",pageConf)}),$routeProvider.otherwise({redirectTo:DEFAULT_ROUTE}),$httpProvider.interceptors.push("errorInterceptor")}]).run(["$templateCache","$http","CONFIG_ROUTE",function($templateCache,$http,CONFIG_ROUTE){$http.get(CONFIG_ROUTE["/internet-disconnected"].templateUrl).then(function(data){$templateCache.put(CONFIG_ROUTE["/internet-disconnected"].templateUrl,data.data)})}]),window.BookingControllerOnload=function(callback){window.BookingControllerOnload.emit.is&&callback(),window.BookingControllerOnload.arr.push(callback)},window.BookingControllerOnload.arr=[],window.BookingControllerOnload.emit=function(){angular.forEach(window.BookingControllerOnload.arr,function(value){"function"==typeof value&&value()}),window.BookingControllerOnload.emit.is=!0};